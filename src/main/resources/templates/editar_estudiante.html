<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8">
<title>Editar estudiante</title>
<!-- CSS only -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
</head>
<body>


	<nav class="navbar navbar-expand-md bg-dark navbar-dark">
		<a class="navbar-brand" href="#"> Control de estudiantes</a>
		<!-- Navbar links -->
		<div class="collapse navbar-collapse" id="collapsibleNavbar">
			<ul class="navbar-nav">
				<li class="nav-item"><a class="nav-link"
					th:href="@{/estudiantes}">Estudiantes</a></li>
			</ul>
		</div>
	</nav>

    <br>
    <div class="container">
       <div class="row">
          <div class="col-lg-6 col-md-6 col-sm-6 container justify-content-center card">
              <h1 class="text-center">Editar estudiante</h1>
              <div class="card-body">
                 <form th:action="@{/estudiantes/{id}(id=${estudiante.id})}" th:object="${estudiante}" method="POST">
                    <div class="form-group">
                       <label>Nombre : </label>
                       <input type="text" name="nombres" th:field="*{nombres}" class="form-control" placeholder="Nombre del estudiante: ">
                    </div>

                     <div class="row mb-3">
                         <label for="frmNames" class="col-sm-2 col-form-label">Nombres</label>
                         <div class="col-sm-10">
                             <input type="text" class="form-control" id="frmNames"
                                    name="frmNames" required pattern="[A-Za-záéíóúÁÉÍÓÚ\s]+">
                             <div class="valid-feedback">Correcto</div>
                             <div class="invalid-feedback">Es necesario escribir solo letras en el nombre</div>
                         </div>
                     </div>

                     <script>
                         var nombresInput = document.getElementById('frmNames');
                         nombresInput.addEventListener('input', function(event) {
                             var nombres = event.target.value;
                             var regex = /^[A-Za-z\s]+$/;
                             if (nombres === '') {
                                 nombresInput.classList.remove('is-valid');
                                 nombresInput.classList.remove('is-invalid');
                             } else if (regex.test(nombres)) {
                                 nombresInput.classList.remove('is-invalid');
                                 nombresInput.classList.add('is-valid');
                             } else {
                                 nombresInput.classList.remove('is-valid');
                                 nombresInput.classList.add('is-invalid');
                             }
                         });
                     </script>
                   
                    <div class="form-group">
                       <label>Apellido : </label>
                       <input type="text" name="apellido" th:field="*{apellidos}" class="form-control" placeholder="Apellido del estudiante: ">
                    </div>
                     <label for="frmLast_names" class="col-sm-2 col-form-label">Apellidos</label>
                     <div class="col-sm-10">
                         <input type="text" class="form-control" id="frmLast_names"
                                name="frmLast_names" required pattern="[A-Za-záéíóúÁÉÍÓÚ\s]+">
                         <div class="valid-feedback">Correcto</div>
                         <div class="invalid-feedback">Es necesario escribir solo
                             letras en el apellido</div>
                     </div>
              </div>


              <script>
                  // Obtener el campo de entrada de apellidos
                  var apellidosInput = document.getElementById('frmLast_names');
                  apellidosInput.addEventListener('input',
                      function(event) {
                          var apellidos = event.target.value;
                          var regex = /^[A-Za-z\s]+$/;

                          // Validar el valor ingresado
                          if (apellidos === '') {
                              apellidosInput.classList
                                  .remove('is-valid');
                              apellidosInput.classList
                                  .remove('is-invalid');
                          } else if (regex.test(apellidos)) {
                              apellidosInput.classList
                                  .remove('is-invalid');
                              apellidosInput.classList
                                  .add('is-valid');
                          } else {
                              apellidosInput.classList
                                  .remove('is-valid');
                              apellidosInput.classList
                                  .add('is-invalid');
                          }
                      });
              </script>
                    <div class="form-group">
                       <label>Email : </label>
                       <input type="email" name="email" th:field="*{email}" class="form-control" placeholder="Email del estudiante: ">
                    </div>

              <div class="row mb-3">
                  <label for="frmEmail" class="col-sm-2 col-form-label">Email</label>
                  <div class="col-sm-10">
                      <input type="email" class="form-control" id="frmEmail"
                             name="frmEmail" required
                             pattern="^[a-zA-Z0-9._%+-]+@{1}[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$">
                      <div class="valid-feedback">Todo bien</div>
                      <div class="invalid-feedback">Es necesario el Correo
                          Electrónico (ejemplo@dominio.com)</div>

                  </div>
              </div>

              <script>
                  // Obtener el campo de entrada de correo electrónico
                  var emailInput = document.getElementById('frmEmail');
                  // Agregar un event listener para el evento 'input'
                  emailInput.addEventListener('input', function(event) {
                      // Validar si el correo electrónico es válido
                      if (emailInput.checkValidity()) {
                          emailInput.classList.remove('is-invalid');
                          emailInput.classList.add('is-valid');
                      } else {
                          emailInput.classList.remove('is-valid');
                          emailInput.classList.add('is-invalid');
                      }
                  });
              </script>
                    
                    <div class="box-footer">
                       <button class="btn btn-success">Guardar</button>
                    </div>
                 </form>
              </div>
          </div>
       </div>
    </div>
</body>
</html>